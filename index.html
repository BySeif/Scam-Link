<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Alya ğŸ’—ğŸ’Œ</title>

<!-- fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --pink1:#ffb6d9;
  --pink2:#ffd6eb;
  --accent:#ff2e88;
  --btn1:#ff4d9e;
}
html,body{height:100%;margin:0;}
body{
  font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background:linear-gradient(160deg,var(--pink1),var(--pink2));
  -webkit-font-smoothing:antialiased;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  color:#222;
  overflow-y:auto; /* allow scrolling for the letter/bouquet section */
}

/* center card */
.container{
  width:100%;
  max-width:720px;
  margin:0 auto;
  text-align:center;
  box-sizing:border-box;
}

/* glass card style */
.card{
  background:rgba(255,255,255,0.12);
  backdrop-filter: blur(14px);
  padding:28px;
  border-radius:28px;
  box-shadow:0 20px 50px rgba(0,0,0,0.14);
  margin:12px 0;
}

/* start screen */
#envelope{
  width:220px;
  max-width:82vw;
  cursor:pointer;
  border-radius:14px;
  filter:drop-shadow(0 12px 26px rgba(0,0,0,0.18));
  transition:transform .28s ease;
}
#envelope:hover{ transform: translateY(-6px) rotate(-2deg) scale(1.02); }

.title{
  font-family:"Playfair Display", serif;
  color:var(--accent);
  margin:10px 0 8px 0;
  font-size:clamp(26px,4.6vw,44px);
}

/* buttons */
.openBtn{
  background:linear-gradient(90deg,var(--btn1),#ff6fb0);
  color:white;
  border:none;
  padding:13px 36px;
  border-radius:36px;
  font-size:18px;
  box-shadow:0 10px 26px rgba(255,77,158,0.24);
  cursor:pointer;
}
.pulse{ animation:pulse 1.6s infinite; }
@keyframes pulse{ 0%{transform:scale(1);}50%{transform:scale(1.07);}100%{transform:scale(1);} }

/* question screen */
#mainPhoto{
  width:100%;
  max-height:55vh;      /* <-- controlled size for phone */
  object-fit:cover;
  border-radius:22px;
  box-shadow:0 18px 40px rgba(0,0,0,0.18);
  margin-bottom:18px;
}

/* button row */
.btnRow{ display:flex; gap:16px; justify-content:center; align-items:center; margin-top:8px; }
.yes, .no {
  border:none;
  padding:12px 28px;
  border-radius:32px;
  font-size:18px;
  cursor:pointer;
}
.yes{
  background:linear-gradient(90deg,#ff476e,#ff2e88);
  color:white;
  box-shadow:0 10px 22px rgba(255,46,136,.22);
  transform-origin:center;
}
.no{
  background:#5e5e5e;
  color:white;
  box-shadow:0 6px 14px rgba(0,0,0,0.12);
  position:relative;
}

/* final screen */
#finalText{
  font-family:"Playfair Display", serif;
  font-size:clamp(22px,5.2vw,40px);
  color:var(--accent);
  text-shadow:0 8px 26px rgba(255,46,136,0.12);
  margin:12px 6px;
  line-height:1.06;
}
#finalPhoto{
  width:100%;
  max-height:58vh;    /* <-- controlled final image size */
  object-fit:cover;
  border-radius:22px;
  box-shadow:0 20px 50px rgba(0,0,0,0.22);
  margin-top:12px;
}

/* bouquet + letter area (below final) */
#extraSection{
  margin-top:18px;
  padding:18px;
  text-align:center;
}
/* closed letter button */
#letterClosed{
  background:linear-gradient(90deg,#fff,#ffe6f2);
  border-radius:16px;
  padding:14px 18px;
  display:inline-block;
  cursor:pointer;
  box-shadow:0 8px 24px rgba(0,0,0,0.12);
  margin-top:12px;
}

/* letter content (hidden until open) */
#letterBox{
  background:linear-gradient(180deg,#fffdfc,#fff7fb);
  border-radius:14px;
  padding:18px;
  margin:14px auto;
  max-width:720px;
  box-shadow:0 12px 30px rgba(0,0,0,0.12);
  display:none;
  text-align:left;
  color:#222;
  line-height:1.45;
}

/* bouquet container */
#bouquet{
  width:100%;
  max-width:420px;
  margin:10px auto 0 auto;
  min-height:120px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  opacity:0;
  transition:opacity .8s ease;
}

/* each rose bubble */
.rose{
  font-size:28px;
  transform:translateY(18px) scale(.9);
  opacity:0;
  transition: transform .6s cubic-bezier(.2,.9,.2,1), opacity .6s;
  filter:drop-shadow(0 6px 10px rgba(0,0,0,0.12));
}

/* when bouquet becomes visible */
#bouquet.visible{ opacity:1; }
#bouquet.visible .rose{
  transform:translateY(0) scale(1);
  opacity:1;
}

/* floating hearts + confetti pieces */
.floating-heart{
  position:fixed;
  bottom:-20px;
  font-size:26px;
  pointer-events:none;
  animation:floatUp linear forwards;
}
@keyframes floatUp{ to { transform:translateY(-120vh) rotate(180deg); opacity:0; } }

.confetti-piece{
  position:fixed;
  top:-20px;
  width:8px;
  height:12px;
  animation:fall linear forwards;
  pointer-events:none;
}
@keyframes fall{ to{ transform:translateY(120vh) rotate(360deg); } }

/* responsive tweaks */
@media(min-width:900px){
  #mainPhoto{ max-width:520px; }
  #finalPhoto{ max-width:640px; }
}
</style>
</head>
<body>
  <div class="container">

    <!-- START -->
    <div class="card" id="startCard">
      <img id="envelope" src="envelope.png.jpg" alt="Envelope for Alya" onclick="openLetter()" />
      <h2 class="title">For AlyağŸ’—ğŸ’Œ</h2>
      <button class="openBtn pulse" onclick="openLetter()">Open</button>
    </div>

    <!-- the container where screens swap -->
    <div id="screenHolder"></div>

    <!-- NOTE: extraSection will be added to screenHolder on final; kept here for clarity -->
  </div>

<script>
/* ---------- Globals ---------- */
window._heartsInterval = null;
window._confettiInterval = null;

/* ---------- Open letter (question) ---------- */
function openLetter(){
  const holder = document.getElementById('screenHolder');
  holder.innerHTML = `
    <div class="card" id="questionCard">
      <img id="mainPhoto" src="mainphoto.jpg" alt="Alya">
      <h2 style="margin:0; font-family:'Playfair Display', serif; color:#fff; text-shadow:0 4px 18px rgba(0,0,0,0.22); font-size:clamp(20px,5vw,32px);">Will you be my Valentine? ğŸ’–</h2>
      <div class="btnRow" style="margin-top:14px;">
        <button class="yes" id="yesBtn" onclick="showFinal()">Yes ğŸ’•</button>
        <button class="no" id="noBtn" onclick="noClicked(this)">No ğŸ˜¢</button>
      </div>
    </div>
  `;
  // make sure any previous intervals cleared
  if(window._heartsInterval){ clearInterval(window._heartsInterval); window._heartsInterval = null; }
  if(window._confettiInterval){ clearInterval(window._confettiInterval); window._confettiInterval = null; }
}

/* ---------- NO button behavior (adds messages + moves) ---------- */
let _noIndex = 0;
let _yesScale = 1;
const messages = [
  "Are you sure? ğŸ¥º",
  "Really sure??",
  "PleaseeğŸ˜Š",
  "With a cherryâ¤ï¸",
  "Alya thatâ€™s kinda mean ğŸ˜”",
  "Think again...",
  "You dont love me"
];

function noClicked(el){
  if(_noIndex < messages.length){
    el.textContent = messages[_noIndex];
    _noIndex++;
  } else {
    el.textContent = "Still no? ğŸ˜­";
  }

  // grow the Yes button
  _yesScale += 0.32;
  const yes = document.getElementById('yesBtn');
  if(yes){ yes.style.transform = 'scale(' + _yesScale + ')'; yes.style.transition = 'transform .22s ease'; }

  // move the no button to a random spot
  el.style.position = 'absolute';
  el.style.left = Math.min(84, 6 + Math.random()*78) + '%';
  el.style.top  = Math.min(82, 8 + Math.random()*72) + '%';
  el.style.zIndex = 9999;
}

/* ---------- Final screen (Yes) ---------- */
function showFinal(){
  const holder = document.getElementById('screenHolder');

  // final HTML includes final image and an extra scroll section with bouquet + letter
  holder.innerHTML = `
    <div class="card" id="finalCard">
      <div id="finalText" style="font-size:clamp(20px,5vw,36px);">
        <div style="font-size:1.05rem; margin-bottom:8px; color:#ff2e88; font-family:'Poppins',sans-serif;">Love youuğŸ’</div>
        <div style="font-family:'Playfair Display', serif; color:#fff; text-shadow:0 6px 18px rgba(0,0,0,0.18);">
          You had no choice ğŸ˜ŒğŸ’•<br><br>Guess we have plans now ğŸ˜
        </div>
      </div>

      <img id="finalPhoto" src="finalphoto.jpg.jpg" alt="Us">
    </div>

    <div id="extraSection" class="card" style="margin-top:18px;">
      <div style="font-family:'Playfair Display',serif; color:var(--accent); font-size:20px; margin-bottom:10px;">A little surprise</div>

      <!-- closed letter (click to open) -->
      <div id="letterClosed" onclick="openLetterBox()">
        ğŸ“œ Open letter
      </div>

      <!-- bouquet placeholder (roses will be added by JS) -->
      <div id="bouquet" aria-hidden="true"></div>

      <!-- letter content (hidden until open) -->
      <div id="letterBox" aria-hidden="true">
        <!-- >>> REPLACE THE TEXT BELOW with your personal letter. Keep it inside the <div id="letterText"> ... </div> -->
        <div id="letterText" contenteditable="false" style="white-space:pre-line;">
          Dear Alya,

          (Replace this with your message â€” write whatever you want her to read. Keep it honest, short, and from the heart.)

          Love,
          Seif
        </div>
        <!-- <<< end editable area -->
      </div>
    </div>
  `;

  // start the celebration visuals
  startHeartsContinuous();
  startConfettiContinuous();

  // small delay then show bouquet fade-in
  setTimeout(()=> {
    const b = document.getElementById('bouquet');
    if(b){
      // create 9 roses
      b.innerHTML = '';
      for(let i=0;i<9;i++){
        const r = document.createElement('div');
        r.className = 'rose';
        r.innerHTML = 'ğŸŒ¹';
        r.style.fontSize = (20 + Math.random()*18) + 'px';
        r.style.margin = '0 4px';
        b.appendChild(r);
      }
      // trigger visible state (fades in)
      setTimeout(()=> b.classList.add('visible'), 80);
    }
  }, 600);
}

/* ---------- Hearts & Confetti (continuous) ---------- */
function startHeartsContinuous(){
  if(window._heartsInterval) clearInterval(window._heartsInterval);
  window._heartsInterval = setInterval(()=>{
    const heart = document.createElement('div');
    heart.className = 'floating-heart';
    heart.innerHTML = 'ğŸ’–';
    heart.style.left = Math.random()*100 + 'vw';
    heart.style.fontSize = (18 + Math.random()*22) + 'px';
    heart.style.animationDuration = (3500 + Math.random()*2000) + 'ms';
    document.body.appendChild(heart);
    setTimeout(()=> heart.remove(), 7000);
  }, 420);
}

function startConfettiContinuous(){
  if(window._confettiInterval) clearInterval(window._confettiInterval);
  const colors = ['#ff2e88','#ffffff','#ffb6d9','#ff66b3','#ffd6eb','#ff4d9e'];
  window._confettiInterval = setInterval(()=>{
    const piece = document.createElement('div');
    piece.className = 'confetti-piece';
    piece.style.left = Math.random()*100 + 'vw';
    piece.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
    piece.style.width = (6 + Math.random()*10) + 'px';
    piece.style.height = (8 + Math.random()*16) + 'px';
    piece.style.animationDuration = (2800 + Math.random()*2200) + 'ms';
    document.body.appendChild(piece);
    setTimeout(()=> piece.remove(), 6000);
  }, 140);
}

/* ---------- Letter open interaction: blooms bouquet & reveals letter ---------- */
function openLetterBox(){
  // reveal letter box
  const letterBox = document.getElementById('letterBox');
  const bouquet = document.getElementById('bouquet');
  const closed = document.getElementById('letterClosed');
  if(closed) closed.style.display = 'none';
  if(letterBox) letterBox.style.display = 'block';
  if(bouquet) {
    bouquet.classList.add('visible');
    // add a little pop animation for flowers (stagger)
    const roses = bouquet.querySelectorAll('.rose');
    roses.forEach((r,i)=>{
      r.style.transitionDelay = (i * 80) + 'ms';
      r.style.transform = 'translateY(0) scale(1)';
      r.style.opacity = '1';
    });
  }
  // scroll to letter smoothly
  setTimeout(()=> {
    const target = letterBox || bouquet;
    if(target) target.scrollIntoView({behavior:'smooth', block:'center'});
  }, 120);
}

/* cleanup intervals on leave */
window.addEventListener('beforeunload',()=>{
  if(window._heartsInterval) clearInterval(window._heartsInterval);
  if(window._confettiInterval) clearInterval(window._confettiInterval);
});
</script>
</body>
</html>
